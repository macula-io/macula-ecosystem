<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" fill="none">
  <defs>
    <!-- Gradients -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="infraGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7c3aed"/>
      <stop offset="100%" style="stop-color:#5b21b6"/>
    </linearGradient>
    <linearGradient id="meshGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9"/>
      <stop offset="100%" style="stop-color:#0284c7"/>
    </linearGradient>
    <linearGradient id="aiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="toolsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="connectorGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:0.6"/>
      <stop offset="100%" style="stop-color:#0ea5e9;stop-opacity:0.6"/>
    </linearGradient>

    <!-- Glow filters -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Drop shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="url(#bgGrad)"/>

  <!-- Grid pattern -->
  <g opacity="0.1">
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#fff" stroke-width="0.5"/>
    </pattern>
    <rect width="1200" height="900" fill="url(#grid)"/>
  </g>

  <!-- Title -->
  <text x="600" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="32" font-weight="bold" fill="#fff">
    Macula Ecosystem
  </text>
  <text x="600" y="85" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" fill="#94a3b8">
    Distributed Application Platform for the BEAM
  </text>

  <!-- Organization Labels -->
  <text x="100" y="140" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#a78bfa">reckon-db-org</text>
  <text x="100" y="160" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">Event Sourcing Infrastructure</text>

  <text x="700" y="140" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#38bdf8">macula-io</text>
  <text x="700" y="160" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">Distributed Application Platform</text>

  <!-- ======================= -->
  <!-- INFRASTRUCTURE LAYER    -->
  <!-- ======================= -->

  <!-- Layer background -->
  <rect x="60" y="180" width="520" height="340" rx="16" fill="#1e1b4b" opacity="0.5" filter="url(#shadow)"/>
  <rect x="60" y="180" width="520" height="340" rx="16" fill="none" stroke="#7c3aed" stroke-width="2" opacity="0.5"/>

  <!-- Layer title -->
  <text x="320" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#a78bfa">
    PERSISTENCE &amp; EVENT SOURCING
  </text>

  <!-- ReckonDB -->
  <g filter="url(#shadow)">
    <rect x="90" y="240" width="220" height="120" rx="12" fill="url(#infraGrad)"/>
    <text x="200" y="275" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">reckon_db</text>
    <text x="200" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#e9d5ff">BEAM-native Event Store</text>
    <text x="200" y="320" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Khepri/Ra · Raft Consensus</text>
    <text x="200" y="340" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Distributed · Fault-tolerant</text>
  </g>

  <!-- ReckonGater -->
  <g filter="url(#shadow)">
    <rect x="330" y="240" width="220" height="120" rx="12" fill="url(#infraGrad)"/>
    <text x="440" y="275" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">reckon_gater</text>
    <text x="440" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#e9d5ff">Event Store Gateway</text>
    <text x="440" y="320" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Load Balancing · Routing</text>
    <text x="440" y="340" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">UCAN Security · Telemetry</text>
  </g>

  <!-- Evoq -->
  <g filter="url(#shadow)">
    <rect x="90" y="380" width="220" height="120" rx="12" fill="url(#infraGrad)"/>
    <text x="200" y="415" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">evoq</text>
    <text x="200" y="440" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#e9d5ff">Event Sourcing Primitives</text>
    <text x="200" y="460" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Aggregates · Commands</text>
    <text x="200" y="480" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Events · Process Managers</text>
  </g>

  <!-- ReckonEvoq -->
  <g filter="url(#shadow)">
    <rect x="330" y="380" width="220" height="120" rx="12" fill="url(#infraGrad)"/>
    <text x="440" y="415" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">reckon_evoq</text>
    <text x="440" y="440" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#e9d5ff">Evoq + ReckonDB Adapter</text>
    <text x="440" y="460" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Seamless Integration</text>
    <text x="440" y="480" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Projections · Subscriptions</text>
  </g>

  <!-- ======================= -->
  <!-- APPLICATION LAYER       -->
  <!-- ======================= -->

  <!-- Macula Mesh -->
  <g filter="url(#shadow)">
    <rect x="620" y="180" width="520" height="170" rx="16" fill="#0c4a6e" opacity="0.5"/>
    <rect x="620" y="180" width="520" height="170" rx="16" fill="none" stroke="#0ea5e9" stroke-width="2" opacity="0.5"/>
    <text x="880" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#38bdf8">
      MESH NETWORKING
    </text>

    <rect x="650" y="230" width="460" height="100" rx="12" fill="url(#meshGrad)"/>
    <text x="880" y="265" text-anchor="middle" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="#fff">macula</text>
    <text x="880" y="290" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#bae6fd">HTTP/3 Mesh Networking over QUIC</text>
    <text x="880" y="312" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#7dd3fc">NAT Traversal · DHT Discovery · PubSub · RPC · Multi-tenant Realms</text>
  </g>

  <!-- AI/ML Layer -->
  <g filter="url(#shadow)">
    <rect x="620" y="370" width="520" height="150" rx="16" fill="#064e3b" opacity="0.5"/>
    <rect x="620" y="370" width="520" height="150" rx="16" fill="none" stroke="#10b981" stroke-width="2" opacity="0.5"/>
    <text x="880" y="400" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#34d399">
      AI / NEUROEVOLUTION
    </text>

    <rect x="650" y="420" width="220" height="80" rx="10" fill="url(#aiGrad)"/>
    <text x="760" y="450" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#fff">macula_tweann</text>
    <text x="760" y="472" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a7f3d0">TWEANN Neural Networks</text>
    <text x="760" y="488" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#6ee7b7">Topology Evolution</text>

    <rect x="890" y="420" width="220" height="80" rx="10" fill="url(#aiGrad)"/>
    <text x="1000" y="450" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#fff">macula_neuroevolution</text>
    <text x="1000" y="472" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a7f3d0">Neuroevolution Framework</text>
    <text x="1000" y="488" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#6ee7b7">Distributed Training</text>
  </g>

  <!-- ======================= -->
  <!-- TOOLS & DEPLOYMENT      -->
  <!-- ======================= -->

  <rect x="60" y="540" width="1080" height="160" rx="16" fill="#451a03" opacity="0.4"/>
  <rect x="60" y="540" width="1080" height="160" rx="16" fill="none" stroke="#f59e0b" stroke-width="2" opacity="0.5"/>
  <text x="600" y="570" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fbbf24">
    ORCHESTRATION &amp; TOOLS
  </text>

  <!-- bc_gitops -->
  <g filter="url(#shadow)">
    <rect x="90" y="590" width="250" height="90" rx="10" fill="url(#toolsGrad)"/>
    <text x="215" y="620" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">bc_gitops</text>
    <text x="215" y="642" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fef3c7">Mesh App Orchestration</text>
    <text x="215" y="660" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">GitOps · Hot Reload · Publish</text>
    <text x="215" y="675" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">Install · Upgrade · Dependencies</text>
  </g>

  <!-- Console -->
  <g filter="url(#shadow)">
    <rect x="360" y="590" width="250" height="90" rx="10" fill="url(#toolsGrad)"/>
    <text x="485" y="620" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">macula_console</text>
    <text x="485" y="642" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fef3c7">Management Console</text>
    <text x="485" y="660" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">Phoenix LiveView · Dashboard</text>
    <text x="485" y="675" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">Real-time · Marketplace</text>
  </g>

  <!-- MaculaOS -->
  <g filter="url(#shadow)">
    <rect x="630" y="590" width="250" height="90" rx="10" fill="url(#toolsGrad)"/>
    <text x="755" y="620" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#fff">macula_os</text>
    <text x="755" y="642" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fef3c7">Edge Operating System</text>
    <text x="755" y="660" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">Immutable · k3s · A/B Updates</text>
    <text x="755" y="675" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fde68a">Mesh Bootstrap</text>
  </g>

  <!-- Ecosystem Package -->
  <g filter="url(#shadow)">
    <rect x="900" y="590" width="210" height="90" rx="10" fill="#374151"/>
    <rect x="900" y="590" width="210" height="90" rx="10" fill="none" stroke="#9ca3af" stroke-width="1"/>
    <text x="1005" y="625" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#fff">macula_ecosystem</text>
    <text x="1005" y="650" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#d1d5db">Documentation Hub</text>
    <text x="1005" y="668" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">Guides · Architecture</text>
  </g>

  <!-- ======================= -->
  <!-- CONNECTION ARROWS       -->
  <!-- ======================= -->

  <!-- Infra to Mesh connections -->
  <path d="M 580 300 Q 600 300 620 280" stroke="url(#connectorGrad)" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
  <path d="M 550 440 Q 600 400 620 370" stroke="url(#connectorGrad)" stroke-width="3" fill="none" filter="url(#glow)"/>

  <!-- Mesh to AI connections -->
  <path d="M 880 350 L 880 370" stroke="#10b981" stroke-width="2" fill="none" opacity="0.6"/>

  <!-- Tools connections -->
  <path d="M 320 520 L 320 540" stroke="#f59e0b" stroke-width="2" fill="none" opacity="0.5"/>
  <path d="M 880 520 L 880 540" stroke="#f59e0b" stroke-width="2" fill="none" opacity="0.5"/>

  <!-- ======================= -->
  <!-- LEGEND                  -->
  <!-- ======================= -->

  <g transform="translate(60, 730)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#94a3b8">Data Flow</text>

    <rect x="0" y="15" width="16" height="16" rx="3" fill="#7c3aed"/>
    <text x="24" y="27" font-family="system-ui, sans-serif" font-size="11" fill="#a78bfa">Events &amp; Commands</text>

    <rect x="150" y="15" width="16" height="16" rx="3" fill="#0ea5e9"/>
    <text x="174" y="27" font-family="system-ui, sans-serif" font-size="11" fill="#38bdf8">Mesh Messages</text>

    <rect x="300" y="15" width="16" height="16" rx="3" fill="#10b981"/>
    <text x="324" y="27" font-family="system-ui, sans-serif" font-size="11" fill="#34d399">Neural Signals</text>

    <rect x="450" y="15" width="16" height="16" rx="3" fill="#f59e0b"/>
    <text x="474" y="27" font-family="system-ui, sans-serif" font-size="11" fill="#fbbf24">Management</text>
  </g>

  <!-- Hex.pm badges -->
  <g transform="translate(60, 790)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#94a3b8">Available on hex.pm</text>
    <text x="0" y="20" font-family="monospace" font-size="10" fill="#64748b">
      reckon_db · reckon_gater · evoq · reckon_evoq · macula · macula_tweann · macula_neuroevolution · bc_gitops
    </text>
  </g>

  <!-- Version -->
  <text x="1140" y="880" text-anchor="end" font-family="system-ui, sans-serif" font-size="10" fill="#475569">
    macula_ecosystem v0.1.0
  </text>
</svg>
